<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>RUSHgames</title>
    <link rel="stylesheet" href="./main.css">
</head>
<body>
    <!-- Loading Screen Component -->
    <rush-loading id="mainLoader" auto-start duration="5000"></rush-loading>
    
    <!-- Navbar Component -->
    <my-navbar></my-navbar>

    <div style="padding: 50px; color: white; background: #222;">
        <h1>Bienvenido a RUSHgames</h1>
        <p>Este es un ejemplo con Web Components y Loading Screen.</p>
        
        <!-- Demo buttons for testing loading -->
        <div style="margin-top: 30px;">
            <button onclick="testLoading()" style="
                background: var(--rushgames-primary);
                color: var(--neutral-black);
                border: none;
                padding: 12px 24px;
                border-radius: 8px;
                font-weight: bold;
                cursor: pointer;
                margin-right: 10px;
            ">Probar Loading (3s)</button>
            
            <button onclick="testCustomLoading()" style="
                background: var(--rushgames-secondary);
                color: white;
                border: none;
                padding: 12px 24px;
                border-radius: 8px;
                font-weight: bold;
                cursor: pointer;
                margin-right: 10px;
            ">Loading Personalizado</button>
            
            <button onclick="stopLoading()" style="
                background: var(--neutral-border);
                color: white;
                border: none;
                padding: 12px 24px;
                border-radius: 8px;
                font-weight: bold;
                cursor: pointer;
            ">Detener Loading</button>
        </div>
        
        <div style="margin-top: 20px; font-size: 14px; color: var(--text-secondary);">
            <p>• El loading screen aparece automáticamente al cargar la página</p>
            <p>• Usa las variables CSS del sistema de colores</p>
            <p>• Tiene mensajes que cambian según el progreso</p>
            <p>• Es responsive y accesible</p>
        </div>
    </div>

    <!-- Import Components -->
    <script src="./components/navbar/navbar.js"></script>
    <script src="./components/loading/loading.js"></script>
    
    <script>
        let loader;
        
        // Wait for components to load
        document.addEventListener('DOMContentLoaded', function() {
            loader = document.getElementById('mainLoader');
            
            // Listen to loading events
            loader.addEventListener('loadingStarted', (e) => {
                console.log('Loading started:', e.detail);
            });
            
            loader.addEventListener('loadingCompleted', () => {
                console.log('Loading completed!');
            });
        });
        
        function testLoading() {
            if (loader) {
                loader.startLoading(3000); // 3 seconds
            }
        }
        
        function testCustomLoading() {
            if (loader) {
                // Set custom messages
                loader.setMessages([
                    "Cargando juego épico...",
                    "Preparando aventura...",
                    "Configurando poderes...",
                    "¡Casi listo para la acción!"
                ]);
                loader.startLoading(4000);
            }
        }
        
        function stopLoading() {
            if (loader) {
                loader.stopLoading();
            }
        }
    </script>
</body>
</html>